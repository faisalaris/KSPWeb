@page "/register"
@using System.ComponentModel.DataAnnotations


<EditForm Model="user" OnValidSubmit="HandleValidSubmit" class="form-container">
    <h3 class="form-title">Form Pendaftaran</h3>

    <DataAnnotationsValidator />
    <ValidationSummary class="validation-summary" />

    <div class="form-group">
        <label>Nama:</label>
        <InputText @bind-Value="user.Nama" class="form-control" />
        <ValidationMessage For="() => user.Nama" class="text-danger" />
    </div>

    <div class="form-group">
        <label>Email:</label>
        <InputText @bind-Value="user.Email" class="form-control" type="email" />
        <ValidationMessage For="() => user.Email" class="text-danger" />
    </div>

    <div class="form-group">
        <label>Alamat KTP:</label>
        <InputText @bind-Value="user.AlamatKTP" class="form-control" />
        <ValidationMessage For="() => user.AlamatKTP" class="text-danger" />
    </div>

    <div class="form-group">
        <label>Alamat Domisili:</label>
        <InputText @bind-Value="user.AlamatDomisili" class="form-control" />
        <ValidationMessage For="() => user.AlamatDomisili" class="text-danger" />
    </div>

    <div class="form-group">
        <label>Upload Gambar KTP:</label>
        <InputFile OnChange="HandleFileUpload" class="form-control" />
    </div>

    <div class="form-group">
        <label>Nama Ibu Kandung:</label>
        <InputText @bind-Value="user.NamaIbuKandung" class="form-control" />
        <ValidationMessage For="() => user.NamaIbuKandung" class="text-danger" />
    </div>

    <div class="form-group">
        <label>Nomor HP:</label>
        <InputText @bind-Value="user.NomorHP" class="form-control" />
        <ValidationMessage For="() => user.NomorHP" class="text-danger" />
    </div>

    <div class="form-group">
        <label>Nomor Telepon Darurat:</label>
        <InputText @bind-Value="user.NomorTeleponDarurat" class="form-control" />
        <ValidationMessage For="() => user.NomorTeleponDarurat" class="text-danger" />
    </div>

    <div class="button-container">
        <button type="submit" class="btn btn-submit">Daftar</button>
    </div>
</EditForm>


<style>
    .form-container {
        max-width: 450px;
        margin: 20px auto;
        padding: 25px;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);
    }

    .form-title {
        text-align: center;
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 15px;
    }

    .form-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 15px;
    }

        .form-group label {
            font-weight: 600;
            margin-bottom: 5px;
        }

    .form-control {
        width: 100%;
        padding: 10px;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 14px;
    }

    .text-danger {
        font-size: 12px;
        color: red;
        margin-top: 5px;
    }

    .button-container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }

    .btn-submit {
        width: 100%; /* Lebar penuh */
        padding: 12px;
        font-size: 18px;
        font-weight: bold;
        color: white;
        background: linear-gradient(90deg, #28a745, #218838); /* Gradasi hijau */
        border: none;
        border-radius: 30px; /* Membuat bentuk rounded */
        cursor: pointer;
        transition: all 0.3s ease-in-out;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    }

        .btn-submit:hover {
            background: linear-gradient(90deg, #218838, #1e7e34);
            transform: scale(1.05); /* Efek sedikit membesar saat hover */
            box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.25);
        }

</style>

@code {
    private UserRegistrationModel user = new();

    private void HandleValidSubmit()
    {
        Console.WriteLine("Form submitted successfully");
    }

    private void HandleFileUpload(InputFileChangeEventArgs e)
    {
        var file = e.File;
        Console.WriteLine($"File uploaded: {file.Name}");
    }

    public class UserRegistrationModel
    {
        [Required]
        public string Nama { get; set; } = string.Empty;

        [Required, EmailAddress]
        public string Email { get; set; } = string.Empty;

        [Required]
        public string AlamatKTP { get; set; } = string.Empty;

        [Required]
        public string AlamatDomisili { get; set; } = string.Empty;

        public byte[]? GambarKTP { get; set; }

        [Required]
        public string NamaIbuKandung { get; set; } = string.Empty;

        [Required, Phone]
        public string NomorHP { get; set; } = string.Empty;

        [Required, Phone]
        public string NomorTeleponDarurat { get; set; } = string.Empty;
    }
}
